(function(){var a,b;if(!window.Backbone)throw new Error("Backbone.js is required");b=Backbone.Grid||{},a=Backbone.Grid=Backbone.View.extend({initialize:function(a){if(a||(a={}),!a.columns||!a.collection)throw new Error("Grid.initialize -> invalid arguments");return this.setupOptions(a),this.loadTemplates(),this.setElement(this.targetElement)},setupOptions:function(a){return this.targetElement=a.targetElement||"#grid",this.columns=a.columns,this.collection=a.collection,this.pageable=a.pageable,this.selectRow=a.selectRow},loadTemplates:function(){return this.templateTable='<table id="grid-container" class="table table-striped table-bordered"><thead></thead><tbody></tbody><tfoot></tfoot></table>',this.templateHeader=_.template('<tr><%var cell = 0; _.map(columns, function(item) {%><th class="grid-header-<%=cell%>"><%=item.title%></th><% cell++;});%></tr>'),this.templateStringCell=_.template('<td data-id="<%=model.id%>" class="grid-cell"><%=model.get(column.field)%></td>'),this.templateButtonCell=_.template('<td><button data-id="<%=model.id%>" class="btn <%=column.buttonClassName ? column.buttonClassName : "btn-default"%> <%=column.idElement%>"><%=column.text%></button></td>')},render:function(){return this.renderBaseTable(),this.renderHeader(),this.renderDataRows(),this.formatCells()},renderBaseTable:function(){return this.$el.html(this.templateTable)},renderHeader:function(){return this.$("#grid-container thead").html(this.templateHeader({columns:this.columns}))},renderDataRows:function(){var a,b,c,d,e;for(b=[],e=this.collection.models,c=0,d=e.length;d>c;c++)a=e[c],this.renderDataColumns(a,b);return this.$("#grid-container tbody").html(b.join(""))},renderDataColumns:function(a,b){var c,d,e,f;for(b.push("<tr>"),f=this.columns,d=0,e=f.length;e>d;d++)c=f[d],b.push(this.renderCellByType({model:a,column:c}));return b.push("</tr>")},renderCellByType:function(a){var b,c,d;return(d=a.column).type||(d.type="string"),c=a.column.type,b=function(){switch(!1){case!(c="string"):return this.templateStringCell(a)}}.call(this)},formatCells:function(){return this.selectRow?(this.$("#grid-container").addClass("table-hover"),this.$("#grid-container tbody tr").css("cursor","pointer")):void 0}}),a.version="0.1.1",a.noConflict=b}).call(this);